from insomniac.device_facade import DeviceFacade
from insomniac.hidden.action_get_my_profile_info import get_following_count
from insomniac.hidden.activation import print_activation_required_to
from insomniac.utils import *

import base64

code = base64.b64decode(b'Rk9MTE9XRVJTX0JVVFRPTl9JRF9SRUdFWCA9ICdjb20uaW5zdGFncmFtLmFuZHJvaWQ6aWQvcm93X3Byb2ZpbGVfaGVhZGVyX2ZvbGxvd2Vyc19jb250YWluZXInIFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICd8Y29tLmluc3RhZ3JhbS5hbmRyb2lkOmlkL3Jvd19wcm9maWxlX2hlYWRlcl9jb250YWluZXJfZm9sbG93ZXJzJwoKCmRlZiByZW1vdmVfbWFzc19mb2xsb3dlcnMoZGV2aWNlLCBtYXhfZm9sbG93aW5ncywgb25fcmVtb3ZlLCBzdG9yYWdlLCBhY3RpdmF0aW9uX2NvbnRyb2xsZXIpOgogICAgaWYgbm90IGFjdGl2YXRpb25fY29udHJvbGxlci5pc19hY3RpdmF0ZWQ6CiAgICAgICAgcHJpbnRfYWN0aXZhdGlvbl9yZXF1aXJlZF90bygicmVtb3ZlIG1hc3MgZm9sbG93ZXJzIikKICAgICAgICByZXR1cm4KCiAgICBwcmludCgiT3BlbiB5b3VyIGZvbGxvd2VycyIpCiAgICBmb2xsb3dlcnNfYnV0dG9uID0gZGV2aWNlLmZpbmQocmVzb3VyY2VJZE1hdGNoZXM9Rk9MTE9XRVJTX0JVVFRPTl9JRF9SRUdFWCkKICAgIGZvbGxvd2Vyc19idXR0b24uY2xpY2soKQogICAgX3Njcm9sbF90b19ib3R0b20oZGV2aWNlKQoKICAgIF9pdGVyYXRlX292ZXJfZm9sbG93ZXJzKGRldmljZSwgbWF4X2ZvbGxvd2luZ3MsIG9uX3JlbW92ZSwgc3RvcmFnZSkKCgpkZWYgX2l0ZXJhdGVfb3Zlcl9mb2xsb3dlcnMoZGV2aWNlLCBtYXhfZm9sbG93aW5ncywgb25fcmVtb3ZlLCBzdG9yYWdlKToKICAgICMgV2FpdCB1bnRpbCBsaXN0IGlzIHJlbmRlcmVkCiAgICBkZXZpY2UuZmluZChyZXNvdXJjZUlkPSdjb20uaW5zdGFncmFtLmFuZHJvaWQ6aWQvZm9sbG93X2xpc3RfY29udGFpbmVyJywKICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYW5kcm9pZC53aWRnZXQuTGluZWFyTGF5b3V0Jykud2FpdCgpCgogICAgZGVmIHNjcm9sbGVkX3RvX3RvcCgpOgogICAgICAgIHJvd19zZWFyY2ggPSBkZXZpY2UuZmluZChyZXNvdXJjZUlkPSdjb20uaW5zdGFncmFtLmFuZHJvaWQ6aWQvcm93X3NlYXJjaF9lZGl0X3RleHQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2FuZHJvaWQud2lkZ2V0LkVkaXRUZXh0JykKICAgICAgICByZXR1cm4gcm93X3NlYXJjaC5leGlzdHMoKQoKICAgIG5lZWRfdG9fcmVzdGFydCA9IEZhbHNlICAjIGFmdGVyIHJlbW92aW5nIGEgdXNlciB3ZSBuZWVkIHRvIHN0YXJ0IHRoZSBzY3JlZW4gZnJvbSB0aGUgYmVnaW5uaW5nCiAgICB3aGlsZSBUcnVlOgogICAgICAgIHByaW50KCJJdGVyYXRlIG92ZXIgdmlzaWJsZSBmb2xsb3dlcnMiKQogICAgICAgIHJhbmRvbV9zbGVlcCgpCiAgICAgICAgc2NyZWVuX2l0ZXJhdGVkX2ZvbGxvd2VycyA9IDAKCiAgICAgICAgdHJ5OgogICAgICAgICAgICBmb3IgaXRlbSBpbiBkZXZpY2UuZmluZChyZXNvdXJjZUlkPSdjb20uaW5zdGFncmFtLmFuZHJvaWQ6aWQvZm9sbG93X2xpc3RfY29udGFpbmVyJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdhbmRyb2lkLndpZGdldC5MaW5lYXJMYXlvdXQnKToKICAgICAgICAgICAgICAgIHVzZXJfaW5mb192aWV3ID0gaXRlbS5jaGlsZChpbmRleD0xKQogICAgICAgICAgICAgICAgaWYgbm90IHVzZXJfaW5mb192aWV3LmV4aXN0cyhxdWljaz1UcnVlKToKICAgICAgICAgICAgICAgICAgICBwcmludChDT0xPUl9PS0dSRUVOICsgIk5leHQgaXRlbSBub3QgZm91bmQ6IHByb2JhYmx5IHJlYWNoZWQgZW5kIG9mIHRoZSBzY3JlZW4uIiArIENPTE9SX0VOREMpCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKCiAgICAgICAgICAgICAgICB1c2VyX25hbWVfdmlldyA9IHVzZXJfaW5mb192aWV3LmNoaWxkKGluZGV4PTApLmNoaWxkKCkKICAgICAgICAgICAgICAgIGlmIG5vdCB1c2VyX25hbWVfdmlldy5leGlzdHMoKToKICAgICAgICAgICAgICAgICAgICBwcmludChDT0xPUl9PS0dSRUVOICsgIk5leHQgaXRlbSBub3QgZm91bmQ6IHByb2JhYmx5IHJlYWNoZWQgZW5kIG9mIHRoZSBzY3JlZW4uIiArIENPTE9SX0VOREMpCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKCiAgICAgICAgICAgICAgICB1c2VybmFtZSA9IHVzZXJfbmFtZV92aWV3LmdldF90ZXh0KCkKICAgICAgICAgICAgICAgIHNjcmVlbl9pdGVyYXRlZF9mb2xsb3dlcnMgKz0gMQoKICAgICAgICAgICAgICAgIGlmIHN0b3JhZ2UuaXNfdXNlcl9pbl93aGl0ZWxpc3QodXNlcm5hbWUpOgogICAgICAgICAgICAgICAgICAgIHByaW50KCJAIiArIHVzZXJuYW1lICsgIiBpcyBpbiB3aGl0ZWxpc3QsIHNraXAuIikKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQoKICAgICAgICAgICAgICAgIHByaW50KCJPcGVuIEAiICsgdXNlcm5hbWUpCiAgICAgICAgICAgICAgICB1c2VyX25hbWVfdmlldy5jbGljaygpCiAgICAgICAgICAgICAgICByYW5kb21fc2xlZXAoKQogICAgICAgICAgICAgICAgaXNfbWFzc19mb2xsb3dlciA9IF9pc19tYXNzX2ZvbGxvd2VyKGRldmljZSwgdXNlcm5hbWUsIG1heF9mb2xsb3dpbmdzKQogICAgICAgICAgICAgICAgZGV2aWNlLmJhY2soKQogICAgICAgICAgICAgICAgaWYgaXNfbWFzc19mb2xsb3dlcjoKICAgICAgICAgICAgICAgICAgICBwcmludChDT0xPUl9PS0dSRUVOICsgIkAiICsgdXNlcm5hbWUgKyAiIGlzIG1hc3MgZm9sbG93ZXIsIHJlbW92ZS4iICsgQ09MT1JfRU5EQykKICAgICAgICAgICAgICAgICAgICByZW1vdmVfYnV0dG9uID0gdXNlcl9pbmZvX3ZpZXcucmlnaHQocmVzb3VyY2VJZD0nY29tLmluc3RhZ3JhbS5hbmRyb2lkOmlkL2J1dHRvbicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYW5kcm9pZC53aWRnZXQuVGV4dFZpZXcnKQogICAgICAgICAgICAgICAgICAgIGlmIG5vdCByZW1vdmVfYnV0dG9uLmV4aXN0cygpOgogICAgICAgICAgICAgICAgICAgICAgICBwcmludChDT0xPUl9PS0dSRUVOICsgIk5leHQgaXRlbSBub3QgZm91bmQ6IHByb2JhYmx5IHJlYWNoZWQgZW5kIG9mIHRoZSBzY3JlZW4uIiArIENPTE9SX0VOREMpCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlX2J1dHRvbi5jbGljaygpCiAgICAgICAgICAgICAgICAgICAgcmFuZG9tX3NsZWVwKCkKICAgICAgICAgICAgICAgICAgICBfY2xvc2VfZGlhbG9nX2lmX3Nob3duKGRldmljZSkKICAgICAgICAgICAgICAgICAgICBfY2xvc2VfYm90dG9tX3NoZWV0X2lmX3Nob3duKGRldmljZSkKICAgICAgICAgICAgICAgICAgICBjYW5fY29udGludWUgPSBvbl9yZW1vdmUodXNlcm5hbWUpCgogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBjYW5fY29udGludWU6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgoKICAgICAgICAgICAgICAgICAgICBuZWVkX3RvX3Jlc3RhcnQgPSBUcnVlCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICBleGNlcHQgSW5kZXhFcnJvcjoKICAgICAgICAgICAgcHJpbnQoQ09MT1JfRkFJTCArICJDYW5ub3QgZ2V0IG5leHQgaXRlbTogcHJvYmFibHkgcmVhY2hlZCBlbmQgb2YgdGhlIHNjcmVlbi4iICsgQ09MT1JfRU5EQykKCiAgICAgICAgaWYgbmVlZF90b19yZXN0YXJ0OgogICAgICAgICAgICBuZWVkX3RvX3Jlc3RhcnQgPSBGYWxzZQogICAgICAgICAgICBjb250aW51ZQoKICAgICAgICBpZiBzY3JvbGxlZF90b190b3AoKToKICAgICAgICAgICAgcHJpbnQoQ09MT1JfT0tHUkVFTiArICJTY3JvbGxlZCB0byB0b3AsIGZpbmlzaC4iICsgQ09MT1JfRU5EQykKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgZWxpZiBzY3JlZW5faXRlcmF0ZWRfZm9sbG93ZXJzID4gMDoKICAgICAgICAgICAgcHJpbnQoQ09MT1JfT0tHUkVFTiArICJOZWVkIHRvIHNjcm9sbCBub3ciICsgQ09MT1JfRU5EQykKICAgICAgICAgICAgbGlzdF92aWV3ID0gZGV2aWNlLmZpbmQocmVzb3VyY2VJZD0nYW5kcm9pZDppZC9saXN0JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdhbmRyb2lkLndpZGdldC5MaXN0VmlldycpCiAgICAgICAgICAgIGxpc3Rfdmlldy5zY3JvbGwoRGV2aWNlRmFjYWRlLkRpcmVjdGlvbi5UT1ApCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcHJpbnQoQ09MT1JfT0tHUkVFTiArICJObyBmb2xsb3dlcnMgd2VyZSBpdGVyYXRlZCwgZmluaXNoLiIgKyBDT0xPUl9FTkRDKQogICAgICAgICAgICByZXR1cm4KCgpkZWYgX2lzX21hc3NfZm9sbG93ZXIoZGV2aWNlLCB1c2VybmFtZSwgbWF4X2ZvbGxvd2luZ3MpOgogICAgZm9sbG93aW5ncyA9IGdldF9mb2xsb3dpbmdfY291bnQoZGV2aWNlKQogICAgcHJpbnQoIkAiICsgdXNlcm5hbWUgKyAiIGhhcyAiICsgc3RyKGZvbGxvd2luZ3MpICsgIiBmb2xsb3dpbmdzIikKICAgIHJldHVybiBmb2xsb3dpbmdzIGlzIG5vdCBOb25lIGFuZCBmb2xsb3dpbmdzID4gbWF4X2ZvbGxvd2luZ3MKCgpkZWYgX2Nsb3NlX2RpYWxvZ19pZl9zaG93bihkZXZpY2UpOgogICAgZGlhbG9nX3Jvb3RfdmlldyA9IGRldmljZS5maW5kKHJlc291cmNlSWQ9J2NvbS5pbnN0YWdyYW0uYW5kcm9pZDppZC9kaWFsb2dfcm9vdF92aWV3JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2FuZHJvaWQud2lkZ2V0LkZyYW1lTGF5b3V0JykKICAgIGlmIG5vdCBkaWFsb2dfcm9vdF92aWV3LmV4aXN0cygpOgogICAgICAgIHJldHVybgoKICAgIHByaW50KENPTE9SX09LR1JFRU4gKyAiRGlhbG9nIHNob3duLCBjb25maXJtIHJlbW92aW5nLi4uIiArIENPTE9SX0VOREMpCiAgICByYW5kb21fc2xlZXAoKQogICAgcmVtb3ZlX2J1dHRvbiA9IGRpYWxvZ19yb290X3ZpZXcuY2hpbGQoaW5kZXg9MCkuY2hpbGQocmVzb3VyY2VJZD0nY29tLmluc3RhZ3JhbS5hbmRyb2lkOmlkL3ByaW1hcnlfYnV0dG9uJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYW5kcm9pZC53aWRnZXQuVGV4dFZpZXcnKQogICAgcmVtb3ZlX2J1dHRvbi5jbGljaygpCiAgICBwcmludCgiUmVtb3ZpbmcgY29uZmlybWVkISIpCiAgICByYW5kb21fc2xlZXAoKQoKCmRlZiBfY2xvc2VfYm90dG9tX3NoZWV0X2lmX3Nob3duKGRldmljZSk6CiAgICBib3R0b21fc2hlZXRfdmlldyA9IGRldmljZS5maW5kKHJlc291cmNlSWQ9J2NvbS5pbnN0YWdyYW0uYW5kcm9pZDppZC9ib3R0b21fc2hlZXRfY29udGFpbmVyJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdhbmRyb2lkLnZpZXcuVmlld0dyb3VwJykKICAgIGlmIG5vdCBib3R0b21fc2hlZXRfdmlldy5leGlzdHMoKToKICAgICAgICByZXR1cm4KCiAgICBwcmludChDT0xPUl9PS0dSRUVOICsgIkJvdHRvbSBzaGVldCBzaG93biwgY29uZmlybSByZW1vdmluZy4uLiIgKyBDT0xPUl9FTkRDKQogICAgcmFuZG9tX3NsZWVwKCkKICAgIHJlbW92ZV9idXR0b24gPSBib3R0b21fc2hlZXRfdmlldy5jaGlsZChyZXNvdXJjZUlkPSdjb20uaW5zdGFncmFtLmFuZHJvaWQ6aWQvYWN0aW9uX3NoZWV0X3Jvd190ZXh0X3ZpZXcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYW5kcm9pZC53aWRnZXQuVGV4dFZpZXcnKQogICAgcmVtb3ZlX2J1dHRvbi5jbGljaygpCiAgICBwcmludCgiUmVtb3ZpbmcgY29uZmlybWVkISIpCiAgICByYW5kb21fc2xlZXAoKQoKCmRlZiBfc2Nyb2xsX3RvX2JvdHRvbShkZXZpY2UpOgogICAgcHJpbnQoIlNjcm9sbCB0byBib3R0b20iKQoKICAgIGRlZiBpc19lbmRfcmVhY2hlZCgpOgogICAgICAgIHNlZV9hbGxfYnV0dG9uID0gZGV2aWNlLmZpbmQocmVzb3VyY2VJZD0nY29tLmluc3RhZ3JhbS5hbmRyb2lkOmlkL3NlZV9hbGxfYnV0dG9uJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYW5kcm9pZC53aWRnZXQuVGV4dFZpZXcnKQogICAgICAgIHJldHVybiBzZWVfYWxsX2J1dHRvbi5leGlzdHMoKQoKICAgIGxpc3RfdmlldyA9IGRldmljZS5maW5kKHJlc291cmNlSWQ9J2FuZHJvaWQ6aWQvbGlzdCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2FuZHJvaWQud2lkZ2V0Lkxpc3RWaWV3JykKICAgIHdoaWxlIG5vdCBpc19lbmRfcmVhY2hlZCgpOgogICAgICAgIGxpc3Rfdmlldy5zd2lwZShEZXZpY2VGYWNhZGUuRGlyZWN0aW9uLkJPVFRPTSkKCiAgICBwcmludCgiU2Nyb2xsIGJhY2sgdG8gdGhlIGZpcnN0IGZvbGxvd2VyIikKCiAgICBkZWYgaXNfYXRfbGVhc3Rfb25lX2ZvbGxvd2VyKCk6CiAgICAgICAgZm9sbG93ZXIgPSBkZXZpY2UuZmluZChyZXNvdXJjZUlkPSdjb20uaW5zdGFncmFtLmFuZHJvaWQ6aWQvZm9sbG93X2xpc3RfY29udGFpbmVyJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYW5kcm9pZC53aWRnZXQuTGluZWFyTGF5b3V0JykKICAgICAgICByZXR1cm4gZm9sbG93ZXIuZXhpc3RzKCkKCiAgICB3aGlsZSBub3QgaXNfYXRfbGVhc3Rfb25lX2ZvbGxvd2VyKCk6CiAgICAgICAgbGlzdF92aWV3LnNjcm9sbChEZXZpY2VGYWNhZGUuRGlyZWN0aW9uLlRPUCkK')
exec(code)
