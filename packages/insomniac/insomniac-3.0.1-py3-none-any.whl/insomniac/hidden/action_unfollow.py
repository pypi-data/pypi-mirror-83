from insomniac import UnfollowRestriction
from insomniac.device_facade import DeviceFacade
from insomniac.hidden.activation import print_activation_required_to
from insomniac.navigation import switch_to_english, LanguageChangedException
from insomniac.storage import FollowingStatus
from insomniac.utils import *

import base64

code = base64.b64decode(b'Rk9MTE9XSU5HX0JVVFRPTl9JRF9SRUdFWCA9ICdjb20uaW5zdGFncmFtLmFuZHJvaWQ6aWQvcm93X3Byb2ZpbGVfaGVhZGVyX2ZvbGxvd2luZ19jb250YWluZXInIFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICd8Y29tLmluc3RhZ3JhbS5hbmRyb2lkOmlkL3Jvd19wcm9maWxlX2hlYWRlcl9jb250YWluZXJfZm9sbG93aW5nJwpURVhUVklFV19PUl9CVVRUT05fUkVHRVggPSAnYW5kcm9pZC53aWRnZXQuVGV4dFZpZXd8YW5kcm9pZC53aWRnZXQuQnV0dG9uJwoKCmRlZiB1bmZvbGxvdyhkZXZpY2UsIGNvdW50LCBvbl91bmZvbGxvdywgc3RvcmFnZSwgdW5mb2xsb3dfcmVzdHJpY3Rpb24sIG15X3VzZXJuYW1lLCBhY3RpdmF0aW9uX2NvbnRyb2xsZXIpOgogICAgaWYgbm90IGFjdGl2YXRpb25fY29udHJvbGxlci5pc19hY3RpdmF0ZWQ6CiAgICAgICAgcHJpbnRfYWN0aXZhdGlvbl9yZXF1aXJlZF90bygidW5mb2xsb3ciKQogICAgICAgIHJldHVybgoKICAgIF9vcGVuX215X2ZvbGxvd2luZ3MoZGV2aWNlKQogICAgX3NvcnRfZm9sbG93aW5nc19ieV9kYXRlKGRldmljZSkKICAgIHJhbmRvbV9zbGVlcCgpCiAgICBfaXRlcmF0ZV9vdmVyX2ZvbGxvd2luZ3MoZGV2aWNlLCBjb3VudCwgb25fdW5mb2xsb3csIHN0b3JhZ2UsIHVuZm9sbG93X3Jlc3RyaWN0aW9uLCBteV91c2VybmFtZSkKCgpkZWYgX29wZW5fbXlfZm9sbG93aW5ncyhkZXZpY2UpOgogICAgcHJpbnQoIk9wZW4gbXkgZm9sbG93aW5ncyIpCiAgICBmb2xsb3dpbmdzX2J1dHRvbiA9IGRldmljZS5maW5kKHJlc291cmNlSWRNYXRjaGVzPUZPTExPV0lOR19CVVRUT05fSURfUkVHRVgpCiAgICBmb2xsb3dpbmdzX2J1dHRvbi5jbGljaygpCgoKZGVmIF9zb3J0X2ZvbGxvd2luZ3NfYnlfZGF0ZShkZXZpY2UpOgogICAgcHJpbnQoIlNvcnQgZm9sbG93aW5ncyBieSBkYXRlOiBmcm9tIG9sZGVzdCB0byBuZXdlc3QuIikKICAgIHNvcnRfYnV0dG9uID0gZGV2aWNlLmZpbmQocmVzb3VyY2VJZD0nY29tLmluc3RhZ3JhbS5hbmRyb2lkOmlkL3NvcnRpbmdfZW50cnlfcm93X2ljb24nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2FuZHJvaWQud2lkZ2V0LkltYWdlVmlldycpCiAgICBpZiBub3Qgc29ydF9idXR0b24uZXhpc3RzKCk6CiAgICAgICAgcHJpbnQoQ09MT1JfRkFJTCArICJDYW5ub3QgZmluZCBidXR0b24gdG8gc29ydCBmb2xsb3dpbmdzLiBDb250aW51ZSB3aXRob3V0IHNvcnRpbmcuIikKICAgICAgICByZXR1cm4KICAgIHNvcnRfYnV0dG9uLmNsaWNrKCkKCiAgICBzb3J0X29wdGlvbnNfcmVjeWNsZXJfdmlldyA9IGRldmljZS5maW5kKAogICAgICAgIHJlc291cmNlSWQ9J2NvbS5pbnN0YWdyYW0uYW5kcm9pZDppZC9mb2xsb3dfbGlzdF9zb3J0aW5nX29wdGlvbnNfcmVjeWNsZXJfdmlldycpCiAgICBpZiBub3Qgc29ydF9vcHRpb25zX3JlY3ljbGVyX3ZpZXcuZXhpc3RzKCk6CiAgICAgICAgcHJpbnQoQ09MT1JfRkFJTCArICJDYW5ub3QgZmluZCBvcHRpb25zIHRvIHNvcnQgZm9sbG93aW5ncy4gQ29udGludWUgd2l0aG91dCBzb3J0aW5nLiIgKyBDT0xPUl9FTkRDKQogICAgICAgIHJldHVybgoKICAgIHNvcnRfb3B0aW9uc19yZWN5Y2xlcl92aWV3LmNoaWxkKGluZGV4PTIpLmNsaWNrKCkKCgpkZWYgX2l0ZXJhdGVfb3Zlcl9mb2xsb3dpbmdzKGRldmljZSwgY291bnQsIG9uX3VuZm9sbG93LCBzdG9yYWdlLCB1bmZvbGxvd19yZXN0cmljdGlvbiwgbXlfdXNlcm5hbWUpOgogICAgIyBXYWl0IHVudGlsIGxpc3QgaXMgcmVuZGVyZWQKICAgIGRldmljZS5maW5kKHJlc291cmNlSWQ9J2NvbS5pbnN0YWdyYW0uYW5kcm9pZDppZC9mb2xsb3dfbGlzdF9jb250YWluZXInLAogICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdhbmRyb2lkLndpZGdldC5MaW5lYXJMYXlvdXQnKS53YWl0KCkKCiAgICB1bmZvbGxvd2VkX2NvdW50ID0gMAogICAgd2hpbGUgVHJ1ZToKICAgICAgICBwcmludCgiSXRlcmF0ZSBvdmVyIHZpc2libGUgZm9sbG93aW5ncyIpCiAgICAgICAgcmFuZG9tX3NsZWVwKCkKICAgICAgICBzY3JlZW5faXRlcmF0ZWRfZm9sbG93aW5ncyA9IDAKCiAgICAgICAgZm9yIGl0ZW0gaW4gZGV2aWNlLmZpbmQocmVzb3VyY2VJZD0nY29tLmluc3RhZ3JhbS5hbmRyb2lkOmlkL2ZvbGxvd19saXN0X2NvbnRhaW5lcicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdhbmRyb2lkLndpZGdldC5MaW5lYXJMYXlvdXQnKToKICAgICAgICAgICAgdXNlcl9pbmZvX3ZpZXcgPSBpdGVtLmNoaWxkKGluZGV4PTEpCiAgICAgICAgICAgIHVzZXJfbmFtZV92aWV3ID0gdXNlcl9pbmZvX3ZpZXcuY2hpbGQoaW5kZXg9MCkuY2hpbGQoKQogICAgICAgICAgICBpZiBub3QgdXNlcl9uYW1lX3ZpZXcuZXhpc3RzKHF1aWNrPVRydWUpOgogICAgICAgICAgICAgICAgcHJpbnQoQ09MT1JfT0tHUkVFTiArICJOZXh0IGl0ZW0gbm90IGZvdW5kOiBwcm9iYWJseSByZWFjaGVkIGVuZCBvZiB0aGUgc2NyZWVuLiIgKyBDT0xPUl9FTkRDKQogICAgICAgICAgICAgICAgYnJlYWsKCiAgICAgICAgICAgIHVzZXJuYW1lID0gdXNlcl9uYW1lX3ZpZXcuZ2V0X3RleHQoKQogICAgICAgICAgICBzY3JlZW5faXRlcmF0ZWRfZm9sbG93aW5ncyArPSAxCgogICAgICAgICAgICBpZiB1bmZvbGxvd19yZXN0cmljdGlvbiA9PSBVbmZvbGxvd1Jlc3RyaWN0aW9uLkZPTExPV0VEX0JZX1NDUklQVCBvciBcCiAgICAgICAgICAgICAgICAgICAgdW5mb2xsb3dfcmVzdHJpY3Rpb24gPT0gVW5mb2xsb3dSZXN0cmljdGlvbi5GT0xMT1dFRF9CWV9TQ1JJUFRfTk9OX0ZPTExPV0VSUzoKICAgICAgICAgICAgICAgIGZvbGxvd2luZ19zdGF0dXMgPSBzdG9yYWdlLmdldF9mb2xsb3dpbmdfc3RhdHVzKHVzZXJuYW1lKQogICAgICAgICAgICAgICAgaWYgbm90IGZvbGxvd2luZ19zdGF0dXMgPT0gRm9sbG93aW5nU3RhdHVzLkZPTExPV0VEOgogICAgICAgICAgICAgICAgICAgIHByaW50KCJTa2lwIEAiICsgdXNlcm5hbWUgKyAiLiBGb2xsb3dpbmcgc3RhdHVzOiAiICsgZm9sbG93aW5nX3N0YXR1cy5uYW1lICsgIi4iKQogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCgogICAgICAgICAgICBpZiB1bmZvbGxvd19yZXN0cmljdGlvbiA9PSBVbmZvbGxvd1Jlc3RyaWN0aW9uLkFOWToKICAgICAgICAgICAgICAgIGZvbGxvd2luZ19zdGF0dXMgPSBzdG9yYWdlLmdldF9mb2xsb3dpbmdfc3RhdHVzKHVzZXJuYW1lKQogICAgICAgICAgICAgICAgaWYgZm9sbG93aW5nX3N0YXR1cyA9PSBGb2xsb3dpbmdTdGF0dXMuVU5GT0xMT1dFRDoKICAgICAgICAgICAgICAgICAgICBwcmludCgiU2tpcCBAIiArIHVzZXJuYW1lICsgIi4gRm9sbG93aW5nIHN0YXR1czogIiArIGZvbGxvd2luZ19zdGF0dXMubmFtZSArICIuIikKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQoKICAgICAgICAgICAgcHJpbnQoIlVuZm9sbG93IEAiICsgdXNlcm5hbWUpCiAgICAgICAgICAgIHVuZm9sbG93ZWQgPSBfZG9fdW5mb2xsb3coZGV2aWNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15X3VzZXJuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZm9sbG93X3Jlc3RyaWN0aW9uID09IFVuZm9sbG93UmVzdHJpY3Rpb24uRk9MTE9XRURfQllfU0NSSVBUX05PTl9GT0xMT1dFUlMpCiAgICAgICAgICAgIGlmIHVuZm9sbG93ZWQ6CiAgICAgICAgICAgICAgICBzdG9yYWdlLmFkZF9pbnRlcmFjdGVkX3VzZXIodXNlcm5hbWUsIHVuZm9sbG93ZWQ9VHJ1ZSkKICAgICAgICAgICAgICAgIG9uX3VuZm9sbG93KCkKICAgICAgICAgICAgICAgIHVuZm9sbG93ZWRfY291bnQgKz0gMQoKICAgICAgICAgICAgcmFuZG9tX3NsZWVwKCkKICAgICAgICAgICAgaWYgdW5mb2xsb3dlZF9jb3VudCA+PSBjb3VudDoKICAgICAgICAgICAgICAgIHJldHVybgoKICAgICAgICBpZiBzY3JlZW5faXRlcmF0ZWRfZm9sbG93aW5ncyA+IDA6CiAgICAgICAgICAgIHByaW50KENPTE9SX09LR1JFRU4gKyAiTmVlZCB0byBzY3JvbGwgbm93IiArIENPTE9SX0VOREMpCiAgICAgICAgICAgIGxpc3RfdmlldyA9IGRldmljZS5maW5kKHJlc291cmNlSWQ9J2FuZHJvaWQ6aWQvbGlzdCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYW5kcm9pZC53aWRnZXQuTGlzdFZpZXcnKQogICAgICAgICAgICBsaXN0X3ZpZXcuc2Nyb2xsKERldmljZUZhY2FkZS5EaXJlY3Rpb24uQk9UVE9NKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50KENPTE9SX09LR1JFRU4gKyAiTm8gZm9sbG93aW5ncyB3ZXJlIGl0ZXJhdGVkLCBmaW5pc2guIiArIENPTE9SX0VOREMpCiAgICAgICAgICAgIHJldHVybgoKCmRlZiBfZG9fdW5mb2xsb3coZGV2aWNlLCB1c2VybmFtZSwgbXlfdXNlcm5hbWUsIGNoZWNrX2lmX2lzX2ZvbGxvd2VyKToKICAgICIiIgogICAgOnJldHVybjogd2hldGhlciB1bmZvbGxvdyB3YXMgc3VjY2Vzc2Z1bAogICAgIiIiCiAgICB1c2VybmFtZV92aWV3ID0gZGV2aWNlLmZpbmQocmVzb3VyY2VJZD0nY29tLmluc3RhZ3JhbS5hbmRyb2lkOmlkL2ZvbGxvd19saXN0X3VzZXJuYW1lJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2FuZHJvaWQud2lkZ2V0LlRleHRWaWV3JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0PXVzZXJuYW1lKQogICAgaWYgbm90IHVzZXJuYW1lX3ZpZXcuZXhpc3RzKCk6CiAgICAgICAgcHJpbnQoQ09MT1JfRkFJTCArICJDYW5ub3QgZmluZCBAIiArIHVzZXJuYW1lICsgIiwgc2tpcC4iICsgQ09MT1JfRU5EQykKICAgICAgICByZXR1cm4gRmFsc2UKICAgIHVzZXJuYW1lX3ZpZXcuY2xpY2soKQoKICAgIGlmIGNoZWNrX2lmX2lzX2ZvbGxvd2VyIGFuZCBfY2hlY2tfaXNfZm9sbG93ZXIoZGV2aWNlLCB1c2VybmFtZSwgbXlfdXNlcm5hbWUpOgogICAgICAgIHByaW50KCJTa2lwIEAiICsgdXNlcm5hbWUgKyAiLiBUaGlzIHVzZXIgaXMgZm9sbG93aW5nIHlvdS4iKQogICAgICAgIHByaW50KCJCYWNrIHRvIHRoZSBmb2xsb3dpbmdzIGxpc3QuIikKICAgICAgICBkZXZpY2UuYmFjaygpCiAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgdW5mb2xsb3dfYnV0dG9uID0gZGV2aWNlLmZpbmQoY2xhc3NOYW1lTWF0Y2hlcz1URVhUVklFV19PUl9CVVRUT05fUkVHRVgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGlja2FibGU9VHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ9J0ZvbGxvd2luZycpCiAgICBpZiBub3QgdW5mb2xsb3dfYnV0dG9uLmV4aXN0cygpOgogICAgICAgIHByaW50KENPTE9SX0ZBSUwgKyAiQ2Fubm90IGZpbmQgRm9sbG93aW5nIGJ1dHRvbi4gTWF5YmUgbm90IEVuZ2xpc2ggbGFuZ3VhZ2UgaXMgc2V0PyIgKyBDT0xPUl9FTkRDKQogICAgICAgIHNhdmVfY3Jhc2goZGV2aWNlKQogICAgICAgIHN3aXRjaF90b19lbmdsaXNoKGRldmljZSkKICAgICAgICByYWlzZSBMYW5ndWFnZUNoYW5nZWRFeGNlcHRpb24oKQogICAgdW5mb2xsb3dfYnV0dG9uLmNsaWNrKCkKCiAgICBjb25maXJtX3VuZm9sbG93X2J1dHRvbiA9IGRldmljZS5maW5kKHJlc291cmNlSWQ9J2NvbS5pbnN0YWdyYW0uYW5kcm9pZDppZC9mb2xsb3dfc2hlZXRfdW5mb2xsb3dfcm93JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdhbmRyb2lkLndpZGdldC5UZXh0VmlldycpCiAgICBpZiBub3QgY29uZmlybV91bmZvbGxvd19idXR0b24uZXhpc3RzKCk6CiAgICAgICAgcHJpbnQoQ09MT1JfRkFJTCArICJDYW5ub3QgY29uZmlybSB1bmZvbGxvdy4iICsgQ09MT1JfRU5EQykKICAgICAgICBzYXZlX2NyYXNoKGRldmljZSkKICAgICAgICBkZXZpY2UuYmFjaygpCiAgICAgICAgcmV0dXJuIEZhbHNlCiAgICBjb25maXJtX3VuZm9sbG93X2J1dHRvbi5jbGljaygpCgogICAgcmFuZG9tX3NsZWVwKCkKICAgIF9jbG9zZV9jb25maXJtX2RpYWxvZ19pZl9zaG93bihkZXZpY2UpCiAgICBkZXRlY3RfYmxvY2soZGV2aWNlKQoKICAgIHByaW50KCJCYWNrIHRvIHRoZSBmb2xsb3dpbmdzIGxpc3QuIikKICAgIGRldmljZS5iYWNrKCkKICAgIHJldHVybiBUcnVlCgoKZGVmIF9jaGVja19pc19mb2xsb3dlcihkZXZpY2UsIHVzZXJuYW1lLCBteV91c2VybmFtZSk6CiAgICBwcmludChDT0xPUl9PS0dSRUVOICsgIkNoZWNrIGlmIEAiICsgdXNlcm5hbWUgKyAiIGlzIGZvbGxvd2luZyB5b3UuIiArIENPTE9SX0VOREMpCiAgICBmb2xsb3dpbmdfY29udGFpbmVyID0gZGV2aWNlLmZpbmQocmVzb3VyY2VJZE1hdGNoZXM9Rk9MTE9XSU5HX0JVVFRPTl9JRF9SRUdFWCkKICAgIGZvbGxvd2luZ19jb250YWluZXIuY2xpY2soKQoKICAgIHJhbmRvbV9zbGVlcCgpCgogICAgbXlfdXNlcm5hbWVfdmlldyA9IGRldmljZS5maW5kKHJlc291cmNlSWQ9J2NvbS5pbnN0YWdyYW0uYW5kcm9pZDppZC9mb2xsb3dfbGlzdF91c2VybmFtZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdhbmRyb2lkLndpZGdldC5UZXh0VmlldycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dD1teV91c2VybmFtZSkKICAgIHJlc3VsdCA9IG15X3VzZXJuYW1lX3ZpZXcuZXhpc3RzKCkKICAgIHByaW50KCJCYWNrIHRvIHRoZSBwcm9maWxlLiIpCiAgICBkZXZpY2UuYmFjaygpCiAgICByZXR1cm4gcmVzdWx0CgoKZGVmIF9jbG9zZV9jb25maXJtX2RpYWxvZ19pZl9zaG93bihkZXZpY2UpOgogICAgZGlhbG9nX3Jvb3RfdmlldyA9IGRldmljZS5maW5kKHJlc291cmNlSWQ9J2NvbS5pbnN0YWdyYW0uYW5kcm9pZDppZC9kaWFsb2dfcm9vdF92aWV3JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2FuZHJvaWQud2lkZ2V0LkZyYW1lTGF5b3V0JykKICAgIGlmIG5vdCBkaWFsb2dfcm9vdF92aWV3LmV4aXN0cygpOgogICAgICAgIHJldHVybgoKICAgICMgQXZhdGFyIGV4aXN0ZW5jZSBpcyB0aGUgd2F5IHRvIGRpc3Rpbmd1aXNoIGNvbmZpcm0gZGlhbG9nIGZyb20gYmxvY2sgZGlhbG9nCiAgICB1c2VyX2F2YXRhcl92aWV3ID0gZGV2aWNlLmZpbmQocmVzb3VyY2VJZD0nY29tLmluc3RhZ3JhbS5hbmRyb2lkOmlkL2NpcmN1bGFyX2ltYWdlJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2FuZHJvaWQud2lkZ2V0LkltYWdlVmlldycpCiAgICBpZiBub3QgdXNlcl9hdmF0YXJfdmlldy5leGlzdHMoKToKICAgICAgICByZXR1cm4KCiAgICBwcmludChDT0xPUl9PS0dSRUVOICsgIkRpYWxvZyBzaG93biwgY29uZmlybSB1bmZvbGxvd2luZy4iICsgQ09MT1JfRU5EQykKICAgIHJhbmRvbV9zbGVlcCgpCiAgICB1bmZvbGxvd19idXR0b24gPSBkaWFsb2dfcm9vdF92aWV3LmNoaWxkKHJlc291cmNlSWQ9J2NvbS5pbnN0YWdyYW0uYW5kcm9pZDppZC9wcmltYXJ5X2J1dHRvbicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYW5kcm9pZC53aWRnZXQuVGV4dFZpZXcnKQogICAgdW5mb2xsb3dfYnV0dG9uLmNsaWNrKCkK')
exec(code)
