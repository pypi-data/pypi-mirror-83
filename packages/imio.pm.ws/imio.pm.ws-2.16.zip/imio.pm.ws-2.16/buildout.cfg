[buildout]
extends =
    https://raw.githubusercontent.com/IMIO/buildout.pm/master/dev.cfg
    versions-dev.cfg

parts =
    zeoserver
    instance1
    test
    coverage
    report

develop = .

auto-checkout -=
    imio.pm.ws

# create bin/test command
[test]
recipe = zc.recipe.testrunner
defaults = ['--auto-color', '--auto-progress']
eggs =
    ipdb
    Products.PloneMeeting [test]
    imio.pm.ws [test]
    z3c.soap [test]

environment = testenv
initialization =
    sys.argv = sys.argv[:] + ['-s', 'imio.pm.ws']

[testenv]
zope_i18n_compile_mo_files = true

# create bin/coverage commant
[coverage]
recipe = zc.recipe.egg
eggs = coverage

# create bin/report command
[report]
recipe = zc.recipe.egg
eggs = coverage
scripts = coverage=report
initialization =
    sys.argv = sys.argv[:] + ['html', '-i']
