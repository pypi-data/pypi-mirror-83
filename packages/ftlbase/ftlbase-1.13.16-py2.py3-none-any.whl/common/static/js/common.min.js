function showWorkflow(e,a,t){var n,o,i=document.getElementById("id_main-"+a);"select-one"===i.type&&(n=i.options[i.selectedIndex].value,o=i.options[i.selectedIndex].text),ftl_modal(n,"7","/common/workflow/process_graph/"+n+"/",o,t)}function ftl_modal(e,a,t,n,o){void 0===o&&(o="modal-lg"),ftl_modal_mount=riot.mount("div#ftl-modal","ftl-modal",{modal:{isvisible:!1,contextmenu:!1,cls:o},data:{pk:e,acao:a,acaoURL:t,modaltitle:n}})}function changeUF2(e,a){if(!(e.selectedIndex<0)){var t=e.options[e.selectedIndex].value,n=e.getAttribute("data-app_label"),o=e.getAttribute("data-object_name"),i="id_";e.id.lastIndexOf("-")>=0&&(i=e.id.substring(0,e.id.lastIndexOf("-")+1));var l=i+"municipio";if(""!==t){var r=e.closest("div[class^='tab-pane active']"),d=$(r).find('select[id="'+l+'"]');d.attr("disabled",!0).html('<option value="">Aguarde...</option>'),d.load("/cliente/municipio/ajax/"+t+"/"+n+"/"+o+"/",null,(function(){d[0].disabled=!1,""!==a&&$("#"+l).val(a)}))}else jQuery(l).html('<option value="">--</option>')}}function changeUF(e){changeUF2(e,"")}function changeCEP(e){var a=$(e).val().replace(/\D/g,"");if(""!==a){if(/^[0-9]{8}$/.test(a)){var t="id_";e.id.lastIndexOf("-")>=0&&(t=e.id.substring(0,e.id.lastIndexOf("-")+1));var n=e.closest("div[class^='tab-pane active']"),o=$(n),i=o.find('input[id="'+t+'endereco"]'),l=o.find('input[id="'+t+'bairro"]'),r=o.find('select[id="'+t+'estado"]'),d=o.find('select[id="'+t+'municipio"]');i.val("..."),l.val("..."),r[0].value="",d[0].value="",$.getJSON("//viacep.com.br/ws/"+a+"/json/unicode/?callback=?",(function(e){"erro"in e?(limpa_formulario_cep(),alert("CEP não encontrado.")):(i.val(e.logradouro),l.val(e.bairro),r[0].value=e.uf,changeUF2(r[0],e.ibge),d[0].value=e.ibge)}))}else limpa_formulario_cep(),alert("Formato de CEP inválido.")}else limpa_formulario_cep()}function changeContaDestino(e,a){var t="#id_"+a,n=e.options[e.selectedIndex].value;if(""!==n){var o=e.getAttribute("data-app_label"),i=e.getAttribute("data-object_name"),l="/"+o+"/ajax"+i+"Select/"+$("#planodecontas").val()+"/"+n+"/"+o+"/"+i+"/",r=jQuery(t);r.attr("disabled",!0).html('<option value="">Aguarde...</option>'),r.load(l,null,(function(){r[0].disabled=!1,$(t).prepend('<option value="" selected>---------</option>')}))}else jQuery(t).html('<option value="">--</option>')}function changeContaOrigemProvisao(e,a,t){changeContaDestino(e,a),changeContaDestino(e,t)}function limpa_formulario_cep(){$("#id_endereco").val(""),$("#id_bairro").val("")}function setHeight(e){void 0!==e&&e.each((function(e,a){a.scrollHeight!=a.style.height.match(/\d+/)[0]&&(a.style.overflow="hidden",a.style.height=`${a.scrollHeight+2}px`)}))}function getCookie(e){var a=null;if(document.cookie&&""!==document.cookie)for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var o=jQuery.trim(t[n]);if(o.substring(0,e.length+1)===e+"="){a=decodeURIComponent(o.substring(e.length+1));break}}return a}$.ajaxSetup({beforeSend:function(e,a){this.crossDomain||(csrftoken=getCookie("csrftoken"),e.setRequestHeader("HTTP_X_CSRFTOKEN",csrftoken),e.setRequestHeader("X-CSRFToken",csrftoken))}}),function(e,a,t){"use strict";var n,o;e.fn.cleave=function(a){var t=e.extend({autoUnmask:!1},a||{});return this.each((function(){var a=new Cleave("#"+this.id,t),n=e(this);n.data("cleave-auto-unmask",t.autoUnmask),n.data("cleave",a)}))},e.valHooks.input?(n=e.valHooks.input.get,o=e.valHooks.input.set):e.valHooks.input={},e.valHooks.input.get=function(a){var t=e(a),o=t.data("cleave");return o?t.data("cleave-auto-unmask")?o.getRawValue():a.value:n?n(a):void 0},e.valHooks.input.set=function(a,t){var n=e(a),i=n.data("cleave");return i?(i.setRawValue(t),n):o?o(a):void 0}}(jQuery,window);var csrftoken=getCookie("csrftoken");function csrfSafeMethod(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)}function configuraCampos(e,a){var t=$(".disableMe"),n=$(".disableMe select[data-autocomplete-light-function='select2']");e?(t.removeProp("disabled"),t.prop("disabled","disabled"),t.has(".has-error").removeProp("disabled"),t.filter("SPAN").css("pointer-events","none"),n.removeProp("disabled"),n.prop("disabled","disabled"),n.has(".has-error").removeProp("disabled"),$("div[id*=__prefix__]").find(".disableMe").removeProp("disabled"),a&&$('input[name="save"]').hide()):t.removeProp("disabled"),a&&$('a[id^="add-item-button"]').hide()}function configuraPagina(){$(".js-django-inlines").each((function(){var e=$(this),a=e.data();a.options.onAdd=function(e,a){configuraPagina()},e.djangoInline(a.options||a),a.djangoInline.setFormOrder()})),$.fn.datepicker.defaults.format="dd/mm/yyyy",$.fn.datepicker.defaults.todayBtn="linked",$.fn.datepicker.defaults.language="pt-BR",$.fn.datepicker.defaults.autoclose=!0,$.fn.datepicker.defaults.todayHighlight=!0,$.fn.datepicker.defaults.enableOnReadonly=!0,$("#datepicker").datepicker({}),$(".dateinput").datepicker({format:"dd/mm/yyyy",todayBtn:"linked",language:"pt-BR",autoclose:!0,todayHighlight:!0,enableOnReadonly:!1}),$("div .has-error").filter(".form-group").has($('div[id^="detail-items-"]')).removeClass("has-error"),$("[data-ftl='data']").cleave({date:!0,datePattern:["d","m","Y"]}),$("[data-ftl='datahora']").cleave({delimiters:["/","/"," ",":"],blocks:[2,2,4,2,2]}),$("[data-ftl='datahorasegundo']").cleave({delimiters:["/","/"," ",":",":"],blocks:[2,2,4,2,2,2]}),$("[data-ftl='telefone']").cleave({phone:!0,phoneRegionCode:"BR"}),$("[data-ftl='celular']").cleave({phone:!0,phoneRegionCode:"BR",prefix:"+55 "}),$("[data-ftl='cpf']").cleave({blocks:[3,3,3,2],delimiters:[".",".","-"]}),$("[data-ftl='cnpj']").cleave({blocks:[2,3,3,4,2],delimiters:[".",".","/","-"]}),$("[data-ftl='cep']").cleave({blocks:[5,3],delimiters:["-"]}),$("[data-ftl='percentual']").cleave({numeral:!0,numeralThousandsGroupStyle:"thousand",numeralDecimalMark:",",delimiter:".",noImmediatePrefix:!0,autoUnmask:!0}),$("[data-ftl='percentual-100-2']").cleave({numeral:!0,numeralThousandsGroupStyle:"thousand",numeralDecimalScale:2,numeralDecimalMark:",",delimiter:".",numeralPositiveOnly:!0,noImmediatePrefix:!0,autoUnmask:!0}),$("[data-ftl='money']").cleave({numeral:!0,numeralDecimalScale:2,numeralDecimalMark:",",delimiter:".",numeralPositiveOnly:!0,noImmediatePrefix:!0,autoUnmask:!0,stripLeadingZeroes:!1,alwaysShowDecimals:!0}),$('form input:not([type="hidden"]):not([type="submit"])').keydown((function(e){if("Enter"===e.key){var a=$(this).parents("form").eq(0).find(":input");return null!==a[a.index(this)+1]&&a[a.index(this)+1].focus(),e.preventDefault(),!1}})),$(".tab-content .panel-body").each((function(){$(this).find(".buttons-do-form").appendTo($(this).parent().find("#master-button"))})),$(".dal-forward-conf").not("[id*='__prefix__']").each((function(){var e,a=this.id.replace("dal-forward-conf-for_","#"),t=$(a),n=t.getFormPrefix();try{e=JSON.parse($(this).text())}catch(e){return}e.forEach((function(e){$("[name="+n+e.src+"]").on("change",(function(){t.val(null).trigger("change")}))}))})),null!=callback_configuraPagina&&callback_configuraPagina(),$(".ftl-automount:visible").each((function(e,a){a._tag||(riot.mount(a),a.classList.remove("ftl-automount"))})),$('[role="tooltip"]').remove(),document.getElementById("ftl-loading").style.display="none"}callback_configuraPagina=null;var rotas=[];function configuraFTL(){moment.locale("pt-br"),configuraPagina();var e=window.location,a=$('li a[href="'+e.pathname+'"]');if(a.length>0)a.parent().addClass("active"),$("ul.treeview-menu").filter((function(a){return 1===$("a[href^='"+e.pathname+"']",this).length})).addClass("active").css("display","block");else if(document.referrer){var t=document.referrer.match(/:\/\/[^\/]+([^\?]*)[\/]*(?:\?.*)?$/)[1];$('li a[href^="'+t+'"]').length>0&&($('li a[href="'+t+'"]').parent().addClass("active"),$("ul.treeview-menu").filter((function(e){return 1===$("a[href^='"+t+"']",this).length})).addClass("active").css("display","block"))}ftltabs=riot.mount("ftl-tabs")[0],route("/..",(function(e){var a=window.location,t=a.hash.slice(1);rotas.forEach((function(e,n){if(e.rota===t.slice(0,e.rota.length)){var o="";a.hash.endsWith("/add/")?o="Inclusão":"2"===a.hash.split("/")[4]?o="Alteração":"3"===a.hash.split("/")[4]&&(o="Exclusão"),ftltabs.trigger("updateRoute",n,e.nome,t,o,e.reload)}}))})),route.start(!0)}function formset_up(e){var a=$(e).closest(".js-django-inlines").data().djangoInline,t=a.getFormIndex(e);a.moveFieldUp(t)}function formset_down(e){var a=$(e).closest(".js-django-inlines").data().djangoInline,t=a.getFormIndex(e);a.moveFieldDown(t)}function goBack(){window.history.back()}function closeActiveTab(){try{$('[ref="#'+$f.closest("div[class^='tab-pane active']").attr("id")+'-close"]').click()}catch(e){$('[ref="#'+$("div[class^='tab-pane active']").attr("id")+'-close"]').click()}document.cookie="next=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}$(window).scroll((function(e){var a=$(".fixedElement:visible"),t="fixed"===a.css("position");$(this).scrollTop()>260&&!t&&a.css({position:"fixed",top:"0px"}),$(this).scrollTop()<=260&&t&&a.css({position:"static",top:"0px"}),a.css({width:a.parent().find(".note-editing-area").width()+"px"})}));var UUID=function(){for(var e=[],a=0;a<=15;a++)e[a]=a.toString(16);var t="";for(a=1;a<=36;a++)t+=9===a||14===a||19===a||24===a?"-":15===a?4:20===a?e[4*Math.random()|8]:e[16*Math.random()|0];return t},Store=function(){riot.observable(this)};